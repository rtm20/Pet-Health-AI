import React from 'react';import { Link } from 'react-router-dom';import { usePets } from '../context/PetContext';import LoadingSpinner from '../components/ui/LoadingSpinner';import HealthMetrics from '../components/dashboard/HealthMetrics';import HealthAlerts from '../components/dashboard/HealthAlerts';import HealthTrends from '../components/dashboard/HealthTrends';import CareSchedule from '../components/dashboard/CareSchedule';const DashboardPage = () => {  const { pets, selectedPet, loading } = usePets();  if (loading) {    return <LoadingSpinner text="Loading dashboard..." />;  }  return (    <div className="space-y-8">      {/* Welcome Header */}      <div className="bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-8 text-white">        <h1 className="text-3xl font-bold mb-2">          Welcome to Your Pet Health Dashboard! 🐾        </h1>        <p className="text-blue-100 text-lg">          {pets.length > 0             ? `Managing health for ${pets.length} ${pets.length === 1 ? 'pet' : 'pets'}`            : 'Ready to add your first pet?'          }        </p>      </div>      {pets.length === 0 ? (        /* Empty State */        <div className="text-center py-16">          <div className="text-8xl mb-6">🐕</div>          <h2 className="text-2xl font-bold text-gray-900 mb-4">            No pets added yet          </h2>          <p className="text-gray-600 mb-8 text-lg">            Let's start by adding your first furry friend to monitor their health!          </p>          <Link            to="/pets/add"            className="inline-flex items-center bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-colors"          >            ➕ Add Your First Pet          </Link>        </div>      ) : (        /* Enhanced Dashboard Content */        <div className="space-y-8">          {/* Enhanced Pet Selection Bar */}          {pets.length > 1 && (            <div className="bg-white rounded-xl p-4 shadow-sm border border-gray-200">              <h3 className="text-sm font-medium text-gray-700 mb-3">Your Pets</h3>              <div className="flex gap-3 overflow-x-auto">                {pets.map((pet) => (                  <div                    key={pet.id}                    className={`flex items-center space-x-3 p-3 rounded-lg border min-w-0 flex-shrink-0 cursor-pointer transition-colors ${                      selectedPet?.id === pet.id                        ? 'bg-blue-50 border-blue-200 ring-1 ring-blue-200'                        : 'bg-gray-50 border-gray-200 hover:bg-gray-100'                    }`}                  >                    {pet.profileImageUrl ? (                      <img                        src={pet.profileImageUrl}                        alt={pet.name}                        className="w-8 h-8 rounded-full object-cover"                      />                    ) : (                      <div className="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium">                        {pet.name.charAt(0)}                      </div>                    )}                    <div className="min-w-0">                      <div className="font-medium text-gray-900 truncate">{pet.name}</div>                      <div className="text-xs text-gray-500 truncate">{pet.species} • {pet.breed}</div>                    </div>                  </div>                ))}              </div>            </div>          )}          {/* Main Dashboard Grid */}          <div className="grid lg:grid-cols-3 gap-8">            {/* Primary Column */}            <div className="lg:col-span-2 space-y-8">              {/* Health Metrics */}              <HealthMetrics pet={selectedPet} />              {/* Health Trends */}              <HealthTrends pet={selectedPet} />              {/* Recent Activity Timeline */}              <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">                <h3 className="text-lg font-semibold text-gray-900 mb-4">                  📋 Recent Activity                </h3>                <div className="space-y-4">                  <div className="flex items-start space-x-3 p-3 bg-blue-50 rounded-lg">                    <div className="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm">                      📸                    </div>                    <div className="flex-1">                      <div className="font-medium text-gray-900">Photo Analysis Completed</div>                      <div className="text-sm text-gray-600">Health check shows normal indicators</div>                      <div className="text-xs text-gray-500">2 hours ago</div>                    </div>                  </div>                                    <div className="flex items-start space-x-3 p-3 bg-green-50 rounded-lg">                    <div className="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm">                      ⚖️                    </div>                    <div className="flex-1">                      <div className="font-medium text-gray-900">Weight Recorded</div>                      <div className="text-sm text-gray-600">25.1 kg - Within healthy range</div>                      <div className="text-xs text-gray-500">1 day ago</div>                    </div>                  </div>                  <div className="flex items-start space-x-3 p-3 bg-purple-50 rounded-lg">                    <div className="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm">                      🏥                    </div>                    <div className="flex-1">                      <div className="font-medium text-gray-900">Vet Appointment Scheduled</div>                      <div className="text-sm text-gray-600">Annual checkup with Dr. Johnson</div>                      <div className="text-xs text-gray-500">3 days ago</div>                    </div>                  </div>                </div>                                <Link                  to={`/pets/${selectedPet?.id}/history`}                  className="mt-4 inline-block text-blue-600 hover:text-blue-700 font-medium text-sm"                >                  View Full Activity Timeline →                </Link>              </div>            </div>            {/* Enhanced Sidebar */}            <div className="space-y-8">              {/* Health Alerts */}              <HealthAlerts pet={selectedPet} />              {/* Care Schedule */}              <CareSchedule pet={selectedPet} />              {/* Quick Actions */}              <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-200">                <h3 className="text-lg font-semibold text-gray-900 mb-4">                  ⚡ Quick Actions                </h3>                <div className="space-y-3">                  <Link                    to="/health/analyze"                    className="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors text-center block font-medium"                  >                    📸 Analyze New Photo                  </Link>                                    <Link                    to={`/pets/${selectedPet?.id}/edit`}                    className="w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors text-center block font-medium"                  >                    ✏️ Update Pet Profile                  </Link>                                    <Link                    to="/vet/book"                    className="w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors text-center block font-medium"                  >                    🏥 Book Vet Appointment                  </Link>                                    <button className="w-full bg-amber-600 text-white py-3 px-4 rounded-lg hover:bg-amber-700 transition-colors font-medium">                    📊 Generate Health Report                  </button>                </div>              </div>              {/* Enhanced Health Tips */}              <div className="bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-6 border border-green-200">                <h3 className="text-lg font-semibold text-gray-900 mb-3 flex items-center">                  💡 Today's Health Tip                </h3>                <p className="text-gray-700 text-sm mb-4">                  Regular photo documentation of your pet can help track health changes over time.                   Take weekly photos even when your pet appears healthy to establish baseline patterns.                </p>                <div className="bg-white/60 p-3 rounded-lg">                  <div className="text-xs font-medium text-gray-900 mb-1">💧 Daily Hydration Check</div>                  <div className="text-xs text-gray-600">                    Monitor your pet's water intake. Sudden changes can indicate health issues.                  </div>                </div>              </div>            </div>          </div>        </div>      )}    </div>  );};export default DashboardPage;